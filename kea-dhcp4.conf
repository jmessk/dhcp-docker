{
"Dhcp4": {

    "interfaces-config": {
        "interfaces": []
    },

    "lease-database": {
        "type": "memfile",
        "lfc-interval": 3600
    },

    "valid-lifetime": 3600,

    "option-data": [
        {
            "name": "domain-name-servers",
            "data": "192.0.2.1, 192.0.2.2"
        },

        // String options that have a comma in their values need to have
        // it escaped (i.e. each comma is preceded by two backslashes).
        // That's because commas are reserved for separating fields in
        // compound options. At the same time, we need to be conformant
        // with JSON spec, that does not allow "\,". Therefore the
        // slightly uncommon double backslashes notation is needed.
        // Legal JSON escapes are \ followed by "\/bfnrt character
        // or \u followed by 4 hexadecimal numbers (currently Kea
        // supports only \u0000 to \u00ff code points).
        // CSV processing translates '\\' into '\' and '\,' into ','
        // only so for instance '\x' is translated into '\x'. But
        // as it works on a JSON string value each of these '\'
        // characters must be doubled on JSON input.
        {
            "name": "boot-file-name",
            "data": "EST5EDT4\\,M3.2.0/02:00\\,M11.1.0/02:00"
        }
    ],

    "client-classes": [
        {
            "name": "PXE client x86_64",
            "test": "option[93].hex == 0x0007 and not option[175].exists",
            "option-data": [
                {
                    "name": "tftp-server-name",
                    "data": "10.10.10.1"
                },
                {
                    "name": "boot-file-name",
                    "data": "ipxe-x86_64.efi"
                }
            ]
        },
        {
            "name": "PXE client arm64",
            "test": "option[93].hex == 0x000b and not option[175].exists",
            "option-data": [
                {
                    "name": "tftp-server-name",
                    "data": "10.10.10.1"
                },
                {
                    "name": "boot-file-name",
                    "data": "ipxe-arm64.efi"
                }
            ]
        },
        {
            "name": "iPXE client",
            "test": "option[175].exists",
            "option-data": [
                {
                    "name": "tftp-server-name",
                    "data": "10.10.10.1"
                },
                {
                    "name": "boot-file-name",
                    "data": "http://boot.netboot.xyz"
                }
            ]
        }
    ],

    "subnet4": [
        {
            "subnet": "192.0.2.0/24",
            "pools": [
                {
                    "pool": "192.0.2.1 - 192.0.2.200"
                }
            ],
            "option-data": [
                {
                    "name": "routers",
                    "data": "192.0.2.1"
                }
            ],
            "reservations": [
                {
                    "hw-address": "1a:1b:1c:1d:1e:1f",
                    "ip-address": "192.0.2.201"
                },
                {
                    "client-id": "01:11:22:33:44:55:66",
                    "ip-address": "192.0.2.202",
                    "hostname": "special-snowflake"
                }
            ]
        }
    ],

    "loggers": [
        {
            "name": "kea-dhcp4",
            "output_options": [
                {
                    "output": "syslog",
                    "pattern": "%-5p %m\n",
                }
            ],
            "severity": "INFO",
            "debuglevel": 0
        }
    ]
}
}
